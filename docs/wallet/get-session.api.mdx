---
id: get-session
title: "Get session details"
description: "Get details for the player game session. The session details shall not change during the session lifetime."
sidebar_label: "Get session details"
hide_title: true
hide_table_of_contents: true
api: {"operationId":"getSession","description":"Get details for the player game session. The session details shall not change during the session lifetime.\n","tags":["session"],"parameters":[{"in":"query","name":"provider","required":true,"description":"Name of the game provider associated with the session","example":"Evolution","schema":{"type":"string"}},{"name":"X-Player-Token","description":"Player game session identifier","in":"header","required":true,"schema":{"name":"sessionToken","description":"Player game session identifier","type":"string","example":"7ca10daf12f2cac9fecf559b11f0f0c8bd21ae43","minLength":32,"maxLength":40}},{"name":"X-Correlation-ID","description":"Header for correlating requests between the services for debugging purposes and request tracing. The value will originate from the game providers that support request identification. Otherwise Valkyrie will generate a value.\n","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"A SessionResponse containing the session details.","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"status":{"type":"string","enum":["OK","ERROR"]},"error":{"description":"Error details describing why PAM rejected the request","type":"object","required":["code","message"],"properties":{"code":{"type":"string","description":"- `PAM_ERR_UNDEFINED` - When you need a generic error.\n- `PAM_ERR_ACC_NOT_FOUND` - When account of `playerId` is not found.\n- `PAM_ERR_GAME_NOT_FOUND` - When specified `providerGameId` is not found.\n- `PAM_ERR_ROUND_NOT_FOUND` - In getGameRound, when there is no game round with id `providerGameRoundId`.\n- `PAM_ERR_TRANS_NOT_FOUND` - In DEPOSIT transaction if the game round with id `providerRoundId` is not found.\n- `PAM_ERR_CASH_OVERDRAFT` - When user does not have enough funds on their account for a withdraw transactions.\n- `PAM_ERR_BONUS_OVERDRAFT` - When user does not have enough funds on their bonus account for a withdraw transaction.\n- `PAM_ERR_SESSION_NOT_FOUND` - When no session is found for provided `X-Player-Token`.\n- `PAM_ERR_SESSION_EXPIRED` - When session related to `X-Player-Token` has expired.\n- `PAM_ERR_MISSING_PROVIDER` - When specified query parameter `provider` is not found.\n- `PAM_ERR_TRANS_CURRENCY` - When specified `Currency` does not match that of the session.\n- `PAM_ERR_NEGATIVE_STAKE` - When transaction amount is negative.\n- `PAM_ERR_CANCEL_NOT_FOUND` - When the transaction trying to cancel doesn't exist.\n- `PAM_ERR_TRANS_ALREADY_CANCELLED` - When trying to cancel an already cancelled transaction, or when a Deposit is made toward a cancelled withdraw.\n- `PAM_ERR_CANCEL_NON_WITHDRAW` - When trying to cancel a transaction that is not a Withdraw transaction.\n- `PAM_ERR_BET_NOT_ALLOWED` - When a bet cannot be done, eg when the user is blocked.\n- `PAM_ERR_PLAYER_NOT_FOUND` - When `playerId` is not found.\n- `PAM_ERR_API_TOKEN` - When `Authorization` header api token does not match the PAM api token.\n- `PAM_ERR_TRANS_ALREADY_SETTLED` - When trying to cancel an already Deposited bet or when trying to Deposit on an already finished gameRound, finished bet.\n- `PAM_ERR_DUPLICATE_TRANS` - When a Deposit is made with an already existing `providerTransactionId` but with different `playerId`/`providerGameId`/`providerRoundId`.\n- `PAM_ERR_PROMO_OVERDRAFT` - When user does not have enough funds on their promo account for a withdraw transaction.\n","enum":["PAM_ERR_UNDEFINED","PAM_ERR_ACC_NOT_FOUND","PAM_ERR_GAME_NOT_FOUND","PAM_ERR_ROUND_NOT_FOUND","PAM_ERR_TRANS_NOT_FOUND","PAM_ERR_CASH_OVERDRAFT","PAM_ERR_BONUS_OVERDRAFT","PAM_ERR_SESSION_NOT_FOUND","PAM_ERR_SESSION_EXPIRED","PAM_ERR_MISSING_PROVIDER","PAM_ERR_TRANS_CURRENCY","PAM_ERR_NEGATIVE_STAKE","PAM_ERR_CANCEL_NOT_FOUND","PAM_ERR_TRANS_ALREADY_CANCELLED","PAM_ERR_CANCEL_NON_WITHDRAW","PAM_ERR_BET_NOT_ALLOWED","PAM_ERR_PLAYER_NOT_FOUND","PAM_ERR_API_TOKEN","PAM_ERR_TRANS_ALREADY_SETTLED","PAM_ERR_DUPLICATE_TRANS","PAM_ERR_PROMO_OVERDRAFT"]},"message":{"type":"string"}}}},"required":["status"]},{"type":"object","properties":{"session":{"type":"object","properties":{"playerId":{"description":"id of player","type":"string","example":"73619e57b3bc4b4e9014132be3bd12a9","minLength":1,"maxLength":40},"token":{"name":"sessionToken","description":"Player game session identifier","type":"string","example":"7ca10daf12f2cac9fecf559b11f0f0c8bd21ae43","minLength":32,"maxLength":40},"currency":{"type":"string","description":"ISO 4217 three letter currency code","pattern":"^[A-Z]{3}$","example":"USD","externalDocs":{"url":"https://en.wikipedia.org/wiki/ISO_4217"}},"country":{"type":"string","description":"ISO 3166-1 alpha-2 two letter country code","pattern":"^[A-Z]{2}$","example":"US","externalDocs":{"url":"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2"}},"language":{"type":"string","description":"ISO 639-1 two letter language code","pattern":"^[A-Z]{2}$","example":"en","externalDocs":{"url":"https://en.wikipedia.org/wiki/ISO_639-1"}},"gameId":{"description":"The game identifier unique for the RGS(provider)","type":"string","example":"ecf559b11f0","minLength":1,"maxLength":40}},"required":["playerId","token","currency","country","language"]}}}]}}}},"401":{"description":"Invalid session or api key","content":{"application/json":{"schema":{"type":"object","required":["status","error"],"properties":{"status":{"description":"Status is Error","type":"string","example":"Error"},"error":{"description":"Error details describing why PAM rejected the request","type":"object","required":["code","message"],"properties":{"message":{"type":"string"},"code":{"description":"Pam Error code \"PAM_ERR_SESSION_NOT_FOUND\" or \"PAM_ERR_UNDEFINED\"","type":"string","example":"PAM_ERR_SESSION_NOT_FOUND"}}}}}}}}},"method":"get","path":"/players/session","security":[{"bearerAuth":[]}],"securitySchemes":{"bearerAuth":{"type":"http","description":"PAM API token, if any is required","scheme":"bearer"}},"info":{"title":"Valkyrie PAM API","description":"Specification describing required endpoints implemented in an operator\nPlayer Account Management(PAM) system, in order to integrate with\nthe Valkyrie aggregator.\n\nResponse format will consist of a common wrapper containing status\ncode and either requested data or error details according to specs\nbelow. In general HTTP error codes will only describe hard errors\nnot business logic.\n```json\n{\n  \"status\": \"OK\",\n  \"entity\": {...}\n}\n```\nor in case of error:\n```json\n{\n  \"status\": \"ERROR\",\n  \"error\": {\n    \"code\": 1\n    \"msg\": \"provider not recognized\"\n  }\n}\n```\n","version":"0.4.1"},"postman":{"name":"Get session details","description":{"content":"Get details for the player game session. The session details shall not change during the session lifetime.\n","type":"text/plain"},"url":{"path":["players","session"],"host":["{{baseUrl}}"],"query":[{"disabled":false,"description":{"content":"(Required) Name of the game provider associated with the session","type":"text/plain"},"key":"provider","value":""}],"variable":[]},"header":[{"disabled":false,"description":{"content":"(Required) Player game session identifier","type":"text/plain"},"key":"X-Player-Token","value":""},{"disabled":false,"description":{"content":"(Required) Header for correlating requests between the services for debugging purposes and request tracing. The value will originate from the game providers that support request identification. Otherwise Valkyrie will generate a value.\n","type":"text/plain"},"key":"X-Correlation-ID","value":""},{"key":"Accept","value":"application/json"}],"method":"GET"}}
sidebar_class_name: "get api-method"
info_path: docs/wallet/valkyrie-pam-api
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem"
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Get session details



Get details for the player game session. The session details shall not change during the session lifetime.


<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Query Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"query","name":"provider","required":true,"description":"Name of the game provider associated with the session","example":"Evolution","schema":{"type":"string"}}}></ParamsItem></ul></div></details><details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Header Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"X-Player-Token","description":"Player game session identifier","in":"header","required":true,"schema":{"name":"sessionToken","description":"Player game session identifier","type":"string","example":"7ca10daf12f2cac9fecf559b11f0f0c8bd21ae43","minLength":32,"maxLength":40}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"X-Correlation-ID","description":"Header for correlating requests between the services for debugging purposes and request tracing. The value will originate from the game providers that support request identification. Otherwise Valkyrie will generate a value.\n","in":"header","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

A SessionResponse containing the session details.

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"status"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={"**Possible values:** [`OK`, `ERROR`]"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>error</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Error details describing why PAM rejected the request

</div><SchemaItem collapsible={false} name={"code"} required={false} schemaDescription={"- `PAM_ERR_UNDEFINED` - When you need a generic error.\n- `PAM_ERR_ACC_NOT_FOUND` - When account of `playerId` is not found.\n- `PAM_ERR_GAME_NOT_FOUND` - When specified `providerGameId` is not found.\n- `PAM_ERR_ROUND_NOT_FOUND` - In getGameRound, when there is no game round with id `providerGameRoundId`.\n- `PAM_ERR_TRANS_NOT_FOUND` - In DEPOSIT transaction if the game round with id `providerRoundId` is not found.\n- `PAM_ERR_CASH_OVERDRAFT` - When user does not have enough funds on their account for a withdraw transactions.\n- `PAM_ERR_BONUS_OVERDRAFT` - When user does not have enough funds on their bonus account for a withdraw transaction.\n- `PAM_ERR_SESSION_NOT_FOUND` - When no session is found for provided `X-Player-Token`.\n- `PAM_ERR_SESSION_EXPIRED` - When session related to `X-Player-Token` has expired.\n- `PAM_ERR_MISSING_PROVIDER` - When specified query parameter `provider` is not found.\n- `PAM_ERR_TRANS_CURRENCY` - When specified `Currency` does not match that of the session.\n- `PAM_ERR_NEGATIVE_STAKE` - When transaction amount is negative.\n- `PAM_ERR_CANCEL_NOT_FOUND` - When the transaction trying to cancel doesn't exist.\n- `PAM_ERR_TRANS_ALREADY_CANCELLED` - When trying to cancel an already cancelled transaction, or when a Deposit is made toward a cancelled withdraw.\n- `PAM_ERR_CANCEL_NON_WITHDRAW` - When trying to cancel a transaction that is not a Withdraw transaction.\n- `PAM_ERR_BET_NOT_ALLOWED` - When a bet cannot be done, eg when the user is blocked.\n- `PAM_ERR_PLAYER_NOT_FOUND` - When `playerId` is not found.\n- `PAM_ERR_API_TOKEN` - When `Authorization` header api token does not match the PAM api token.\n- `PAM_ERR_TRANS_ALREADY_SETTLED` - When trying to cancel an already Deposited bet or when trying to Deposit on an already finished gameRound, finished bet.\n- `PAM_ERR_DUPLICATE_TRANS` - When a Deposit is made with an already existing `providerTransactionId` but with different `playerId`/`providerGameId`/`providerRoundId`.\n- `PAM_ERR_PROMO_OVERDRAFT` - When user does not have enough funds on their promo account for a withdraw transaction.\n"} schemaName={"string"} qualifierMessage={"**Possible values:** [`PAM_ERR_UNDEFINED`, `PAM_ERR_ACC_NOT_FOUND`, `PAM_ERR_GAME_NOT_FOUND`, `PAM_ERR_ROUND_NOT_FOUND`, `PAM_ERR_TRANS_NOT_FOUND`, `PAM_ERR_CASH_OVERDRAFT`, `PAM_ERR_BONUS_OVERDRAFT`, `PAM_ERR_SESSION_NOT_FOUND`, `PAM_ERR_SESSION_EXPIRED`, `PAM_ERR_MISSING_PROVIDER`, `PAM_ERR_TRANS_CURRENCY`, `PAM_ERR_NEGATIVE_STAKE`, `PAM_ERR_CANCEL_NOT_FOUND`, `PAM_ERR_TRANS_ALREADY_CANCELLED`, `PAM_ERR_CANCEL_NON_WITHDRAW`, `PAM_ERR_BET_NOT_ALLOWED`, `PAM_ERR_PLAYER_NOT_FOUND`, `PAM_ERR_API_TOKEN`, `PAM_ERR_TRANS_ALREADY_SETTLED`, `PAM_ERR_DUPLICATE_TRANS`, `PAM_ERR_PROMO_OVERDRAFT`]"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>session</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"playerId"} required={false} schemaDescription={"id of player"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"token"} required={false} schemaDescription={"Player game session identifier"} schemaName={"string"} qualifierMessage={"**Possible values:** `>= 32 characters` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"currency"} required={false} schemaDescription={"ISO 4217 three letter currency code"} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `^[A-Z]{3}$`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"country"} required={false} schemaDescription={"ISO 3166-1 alpha-2 two letter country code"} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `^[A-Z]{2}$`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"language"} required={false} schemaDescription={"ISO 639-1 two letter language code"} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `^[A-Z]{2}$`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"gameId"} required={false} schemaDescription={"The game identifier unique for the RGS(provider)"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"status\": \"OK\",\n  \"error\": {\n    \"code\": \"PAM_ERR_UNDEFINED\",\n    \"message\": \"string\"\n  },\n  \"session\": {\n    \"playerId\": \"73619e57b3bc4b4e9014132be3bd12a9\",\n    \"token\": \"7ca10daf12f2cac9fecf559b11f0f0c8bd21ae43\",\n    \"currency\": \"USD\",\n    \"country\": \"US\",\n    \"language\": \"en\",\n    \"gameId\": \"ecf559b11f0\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"401"} value={"401"}><div>

Invalid session or api key

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"status"} required={false} schemaDescription={"Status is Error"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>error</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Error details describing why PAM rejected the request

</div><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"code"} required={false} schemaDescription={"Pam Error code \"PAM_ERR_SESSION_NOT_FOUND\" or \"PAM_ERR_UNDEFINED\""} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"status\": \"Error\",\n  \"error\": {\n    \"message\": \"string\",\n    \"code\": \"PAM_ERR_SESSION_NOT_FOUND\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      