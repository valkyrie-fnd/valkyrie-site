---
id: add-transaction
title: "Create transaction for one player
"
description: "Create a transaction for player with `playerId`"
sidebar_label: "Create transaction for one player
"
hide_title: true
hide_table_of_contents: true
api: {"operationId":"addTransaction","description":"Create a transaction for player with `playerId`  \nBehavior for transaction types:  \n  All addTransactions calls are expected to be idempotent, when a transaction already exists OK and balance should be returned.  \n  - WITHDRAW, PROMOWITHDRAW  \n    A withdraw transaction starts the chain of events for a game round.  \n  - DEPOSIT  \n    If there is no corresponding game round, return error `PAM_ERR_TRANS_NOT_FOUND` and balance.  \n    If there is a transaction with the same id but different user, game or round return error `PAM_ERR_DUPLICATE_TRANS`  \n    If there is in fact a corresponding game round, but it's closed, return error `PAM_ERR_TRANS_ALREADY_SETTLED` and balance.  \n  - PROMODEPOSIT  \n    A corresponding WITHDRAW does not need to exist for a PROMODEPOSIT to be accepted.  \n  - CANCEL, PROMOCANCEL  \n    If the corresponding WITHDRAW does not exist, return error `PAM_ERR_CANCEL_NOT_FOUND` and balance.  \n    If trying to cancel an already cancelled transaction, i.e. with a second unique cancellation request, return `PAM_ERR_TRANS_ALREADY_CANCELLED` and balance.  \n    If trying to cancel an already settled transaction, return error `PAM_ERR_TRANS_ALREADY_SETTLED` and balance.  \n    If trying to cancel something else, return error `PAM_ERR_CANCEL_NON_WITHDRAW` and balance.\n","tags":["transactions"],"parameters":[{"in":"path","required":true,"name":"playerId","description":"id of player","example":"73619e57b3bc4b4e9014132be3bd12a9","schema":{"type":"string"}},{"in":"query","name":"provider","required":true,"description":"Name of the game provider associated with the session","example":"Evolution","schema":{"type":"string"}},{"name":"X-Player-Token","description":"Player game session identifier","in":"header","required":true,"schema":{"name":"sessionToken","description":"Player game session identifier","type":"string","example":"7ca10daf12f2cac9fecf559b11f0f0c8bd21ae43","minLength":32,"maxLength":40}},{"name":"X-Correlation-ID","description":"Header for correlating requests between the services for debugging purposes and request tracing. The value will originate from the game providers that support request identification. Otherwise Valkyrie will generate a value.\n","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"currency":{"type":"string","description":"ISO 4217 three letter currency code","pattern":"^[A-Z]{3}$","example":"USD","externalDocs":{"url":"https://en.wikipedia.org/wiki/ISO_4217"}},"provider":{"type":"string","description":"Game provider identity known by the PAM and Valkyrie","example":"Evolution"},"transactionType":{"type":"string","enum":["DEPOSIT","WITHDRAW","CANCEL","PROMODEPOSIT","PROMOWITHDRAW","PROMOCANCEL"],"description":"Transaction types according to:\n* `DEPOSIT` - for adding funds\n* `WITHDRAW` - subtract funds from an account balance. Generally for placing bets\n* `CANCEL` - reverting a previous transaction\n* `PROMODEPOSIT` - payout from promo and similar offerings programs\n* `PROMOWITHDRAW` - buyin to promo and similar offerings programs\n* `PROMOCANCEL` - reverting a previous promo transaction\n"},"cashAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"bonusAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"promoAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"transactionDateTime":{"description":"A date and time in IS0 8601 format","example":"1994-11-05T13:15:30Z","format":"date-time","type":"string"},"providerTransactionId":{"description":"The RGS transaction identifier. Unique for each provider. Either this or `providerBetRef` is required. `providerBetRef` will be prioritized if both are present.","type":"string","example":"42a9e3d4eddade52363a5c4fac852e80681c2fe5","minLength":1,"maxLength":40},"providerBetRef":{"description":"Provider bet reference for grouping or matching transactions. Either this or `providerTransactionId` is required. This one is prioritized if both are present.","type":"string","example":"f1adc846131b33be72df6a0c87e5e5da59dde0ff","minLength":1,"maxLength":40},"providerGameId":{"description":"The game identifier unique for the RGS(provider)","type":"string","example":"ecf559b11f0","minLength":1,"maxLength":40},"providerRoundId":{"description":"The unique game round identifier for the provider","type":"string","example":"47d4f7c212464aacf10","minLength":1,"maxLength":40},"isGameOver":{"type":"boolean"},"promos":{"type":"array","items":{"type":"object","properties":{"promoType":{"type":"string","enum":["PROMOBONUS","PROMOTOURNAMENT","PROMOFROMGAME","PROMOCAP","PROMOLIMIT","PROMOMONEYREWARD","FREEROUNDS","FREESPINS"],"description":"Promo types according to:\n* `PROMOBONUS` - bonus promotion\n* `PROMOTOURNAMENT` - tournament related promotion\n* `PROMOFROMGAME` - promotion awarded from a game\n* `PROMOCAP` - no f... idea\n* `PROMOLIMIT` - same here...\n* `PROMOMONEYREWARD` - promotion that actually means real dough\n* `FREEROUNDS` - extra game rounds for free\n* `FREESPINS` - extra spins for free\n"},"promoName":{"description":"Name of offering, if any","type":"string","example":"Try this other game for free","minLength":1,"maxLength":40},"promoStatus":{"description":"Offering status, if any","type":"string","example":"Active","minLength":1,"maxLength":40},"promoReference":{"description":"Reference to the offering, if any","type":"string","example":"C3","minLength":1,"maxLength":40},"promoCode":{"description":"Offering code, if any","type":"string","example":"A1","minLength":1,"maxLength":40},"promoAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"promoAmountTotal":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"promoConfigRef":{"description":"Offering configuration reference, if any","type":"string","example":"B2","minLength":1,"maxLength":40},"promoAwardRef":{"description":"Offering award reference, if any","type":"string","example":"C3","minLength":1,"maxLength":40},"currency":{"type":"string","description":"ISO 4217 three letter currency code","pattern":"^[A-Z]{3}$","example":"USD","externalDocs":{"url":"https://en.wikipedia.org/wiki/ISO_4217"}}}}},"jackpots":{"type":"array","items":{"type":"object","properties":{"jackpotId":{"description":"Jackpot identifier","type":"string","example":"Jackpot1","minLength":1,"maxLength":40},"jackpotReference":{"description":"Jackpot reference, arbitrary use","type":"string","example":"Jackpot1","minLength":1,"maxLength":40},"jackpotAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"jackpotBuckets":{"type":"array","items":{"type":"object","properties":{"bucketType":{"description":"Type of jackpot bucket, if any. Arbitrary use","type":"string","example":"Jackpot1","minLength":1,"maxLength":40},"bucketReference":{"description":"Jackpot bucket reference, arbitrary use","type":"string","example":"Jackpot1","minLength":1,"maxLength":40},"bucketAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"currency":{"type":"string","description":"ISO 4217 three letter currency code","pattern":"^[A-Z]{3}$","example":"USD","externalDocs":{"url":"https://en.wikipedia.org/wiki/ISO_4217"}}}}}}}},"tip":{"type":"object","properties":{"tipAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"}}}},"required":["currency","provider","transactionType","cashAmount","bonusAmount","promoAmount","transactionDateTime","providerTransactionId"]}}}},"responses":{"200":{"description":"The transaction response.","content":{"application/json":{"schema":{"allOf":[{"type":"object","properties":{"status":{"type":"string","enum":["OK","ERROR"]},"error":{"description":"Error details describing why PAM rejected the request","type":"object","required":["code","message"],"properties":{"code":{"type":"string","description":"- `PAM_ERR_UNDEFINED` - When you need a generic error.\n- `PAM_ERR_ACC_NOT_FOUND` - When account of `playerId` is not found.\n- `PAM_ERR_GAME_NOT_FOUND` - When specified `providerGameId` is not found.\n- `PAM_ERR_ROUND_NOT_FOUND` - In getGameRound, when there is no game round with id `providerGameRoundId`.\n- `PAM_ERR_TRANS_NOT_FOUND` - In DEPOSIT transaction if the game round with id `providerRoundId` is not found.\n- `PAM_ERR_CASH_OVERDRAFT` - When user does not have enough funds on their account for a withdraw transactions.\n- `PAM_ERR_BONUS_OVERDRAFT` - When user does not have enough funds on their bonus account for a withdraw transaction.\n- `PAM_ERR_SESSION_NOT_FOUND` - When no session is found for provided `X-Player-Token`.\n- `PAM_ERR_SESSION_EXPIRED` - When session related to `X-Player-Token` has expired.\n- `PAM_ERR_MISSING_PROVIDER` - When specified query parameter `provider` is not found.\n- `PAM_ERR_TRANS_CURRENCY` - When specified `Currency` does not match that of the session.\n- `PAM_ERR_NEGATIVE_STAKE` - When transaction amount is negative.\n- `PAM_ERR_CANCEL_NOT_FOUND` - When the transaction trying to cancel doesn't exist.\n- `PAM_ERR_TRANS_ALREADY_CANCELLED` - When trying to cancel an already cancelled transaction, or when a Deposit is made toward a cancelled withdraw.\n- `PAM_ERR_CANCEL_NON_WITHDRAW` - When trying to cancel a transaction that is not a Withdraw transaction.\n- `PAM_ERR_BET_NOT_ALLOWED` - When a bet cannot be done, eg when the user is blocked.\n- `PAM_ERR_PLAYER_NOT_FOUND` - When `playerId` is not found.\n- `PAM_ERR_API_TOKEN` - When `Authorization` header api token does not match the PAM api token.\n- `PAM_ERR_TRANS_ALREADY_SETTLED` - When trying to cancel an already Deposited bet or when trying to Deposit on an already finished gameRound, finished bet.\n- `PAM_ERR_DUPLICATE_TRANS` - When a Deposit is made with an already existing `providerTransactionId` but with different `playerId`/`providerGameId`/`providerRoundId`.\n- `PAM_ERR_PROMO_OVERDRAFT` - When user does not have enough funds on their promo account for a withdraw transaction.\n","enum":["PAM_ERR_UNDEFINED","PAM_ERR_ACC_NOT_FOUND","PAM_ERR_GAME_NOT_FOUND","PAM_ERR_ROUND_NOT_FOUND","PAM_ERR_TRANS_NOT_FOUND","PAM_ERR_CASH_OVERDRAFT","PAM_ERR_BONUS_OVERDRAFT","PAM_ERR_SESSION_NOT_FOUND","PAM_ERR_SESSION_EXPIRED","PAM_ERR_MISSING_PROVIDER","PAM_ERR_TRANS_CURRENCY","PAM_ERR_NEGATIVE_STAKE","PAM_ERR_CANCEL_NOT_FOUND","PAM_ERR_TRANS_ALREADY_CANCELLED","PAM_ERR_CANCEL_NON_WITHDRAW","PAM_ERR_BET_NOT_ALLOWED","PAM_ERR_PLAYER_NOT_FOUND","PAM_ERR_API_TOKEN","PAM_ERR_TRANS_ALREADY_SETTLED","PAM_ERR_DUPLICATE_TRANS","PAM_ERR_PROMO_OVERDRAFT"]},"message":{"type":"string"}}}},"required":["status"]},{"type":"object","properties":{"transactionResult":{"type":"object","properties":{"transactionId":{"type":"string","description":"Unique transaction identifier from the PAM system","minLength":1,"maxLength":40,"example":"05a9edc0f73c297b"},"balance":{"description":"player account balance","type":"object","properties":{"cashAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"bonusAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"},"promoAmount":{"type":"number","description":"Amount in some currency, rounded to 6 decimal places","format":"double","example":1236.123456,"x-go-type":"Amt"}},"required":["cashAmount","bonusAmount","promoAmount"]}}}}}]}}}},"400":{"description":"Invalid request body"},"401":{"description":"Invalid session or api key","content":{"application/json":{"schema":{"type":"object","required":["status","error"],"properties":{"status":{"description":"Status is Error","type":"string","example":"Error"},"error":{"description":"Error details describing why PAM rejected the request","type":"object","required":["code","message"],"properties":{"message":{"type":"string"},"code":{"description":"Pam Error code \"PAM_ERR_SESSION_NOT_FOUND\" or \"PAM_ERR_UNDEFINED\"","type":"string","example":"PAM_ERR_SESSION_NOT_FOUND"}}}}}}}}},"method":"post","path":"/players/{playerId}/transactions","security":[{"bearerAuth":[]}],"securitySchemes":{"bearerAuth":{"type":"http","description":"PAM API token, if any is required","scheme":"bearer"}},"jsonRequestBodyExample":{"currency":"USD","provider":"Evolution","transactionType":"DEPOSIT","cashAmount":1236.123456,"bonusAmount":1236.123456,"promoAmount":1236.123456,"transactionDateTime":"1994-11-05T13:15:30Z","providerTransactionId":"42a9e3d4eddade52363a5c4fac852e80681c2fe5","providerBetRef":"f1adc846131b33be72df6a0c87e5e5da59dde0ff","providerGameId":"ecf559b11f0","providerRoundId":"47d4f7c212464aacf10","isGameOver":true,"promos":[{"promoType":"PROMOBONUS","promoName":"Try this other game for free","promoStatus":"Active","promoReference":"C3","promoCode":"A1","promoAmount":1236.123456,"promoAmountTotal":1236.123456,"promoConfigRef":"B2","promoAwardRef":"C3","currency":"USD"}],"jackpots":[{"jackpotId":"Jackpot1","jackpotReference":"Jackpot1","jackpotAmount":1236.123456,"jackpotBuckets":[{"bucketType":"Jackpot1","bucketReference":"Jackpot1","bucketAmount":1236.123456,"currency":"USD"}]}],"tip":{"tipAmount":1236.123456}},"info":{"title":"Valkyrie PAM API","description":"Specification describing required endpoints implemented in an operator\nPlayer Account Management(PAM) system which in order to integrate with\nthe Valkyrie aggregator.\n\nResponse format will consist of a common wrapper containing status\ncode and either requested data or error details according to specs\nbelow. In general HTTP error codes will only describe hard errors\nnot business logic.\n```json\n{\n  \"status\": \"OK\",\n  \"entity\": {...}\n}\n```\nor in case of error:\n```json\n{\n  \"status\": \"ERROR\",\n  \"error\": {\n    \"code\": 1\n    \"msg\": \"provider not recognized\"\n  }\n}\n```\n","version":"0.4.0"},"postman":{"name":"Create transaction for one player\n","description":{"content":"Create a transaction for player with `playerId`  \nBehavior for transaction types:  \n  All addTransactions calls are expected to be idempotent, when a transaction already exists OK and balance should be returned.  \n  - WITHDRAW, PROMOWITHDRAW  \n    A withdraw transaction starts the chain of events for a game round.  \n  - DEPOSIT  \n    If there is no corresponding game round, return error `PAM_ERR_TRANS_NOT_FOUND` and balance.  \n    If there is a transaction with the same id but different user, game or round return error `PAM_ERR_DUPLICATE_TRANS`  \n    If there is in fact a corresponding game round, but it's closed, return error `PAM_ERR_TRANS_ALREADY_SETTLED` and balance.  \n  - PROMODEPOSIT  \n    A corresponding WITHDRAW does not need to exist for a PROMODEPOSIT to be accepted.  \n  - CANCEL, PROMOCANCEL  \n    If the corresponding WITHDRAW does not exist, return error `PAM_ERR_CANCEL_NOT_FOUND` and balance.  \n    If trying to cancel an already cancelled transaction, i.e. with a second unique cancellation request, return `PAM_ERR_TRANS_ALREADY_CANCELLED` and balance.  \n    If trying to cancel an already settled transaction, return error `PAM_ERR_TRANS_ALREADY_SETTLED` and balance.  \n    If trying to cancel something else, return error `PAM_ERR_CANCEL_NON_WITHDRAW` and balance.\n","type":"text/plain"},"url":{"path":["players",":playerId","transactions"],"host":["{{baseUrl}}"],"query":[{"disabled":false,"description":{"content":"(Required) Name of the game provider associated with the session","type":"text/plain"},"key":"provider","value":""}],"variable":[{"disabled":false,"description":{"content":"(Required) id of player","type":"text/plain"},"type":"any","value":"","key":"playerId"}]},"header":[{"disabled":false,"description":{"content":"(Required) Player game session identifier","type":"text/plain"},"key":"X-Player-Token","value":""},{"disabled":false,"description":{"content":"(Required) Header for correlating requests between the services for debugging purposes and request tracing. The value will originate from the game providers that support request identification. Otherwise Valkyrie will generate a value.\n","type":"text/plain"},"key":"X-Correlation-ID","value":""},{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "post api-method"
info_path: wallet//valkyrie-pam-api
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem"
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Create transaction for one player




Create a transaction for player with `playerId`  
Behavior for transaction types:  
  All addTransactions calls are expected to be idempotent, when a transaction already exists OK and balance should be returned.  
  - WITHDRAW, PROMOWITHDRAW  
    A withdraw transaction starts the chain of events for a game round.  
  - DEPOSIT  
    If there is no corresponding game round, return error `PAM_ERR_TRANS_NOT_FOUND` and balance.  
    If there is a transaction with the same id but different user, game or round return error `PAM_ERR_DUPLICATE_TRANS`  
    If there is in fact a corresponding game round, but it's closed, return error `PAM_ERR_TRANS_ALREADY_SETTLED` and balance.  
  - PROMODEPOSIT  
    A corresponding WITHDRAW does not need to exist for a PROMODEPOSIT to be accepted.  
  - CANCEL, PROMOCANCEL  
    If the corresponding WITHDRAW does not exist, return error `PAM_ERR_CANCEL_NOT_FOUND` and balance.  
    If trying to cancel an already cancelled transaction, i.e. with a second unique cancellation request, return `PAM_ERR_TRANS_ALREADY_CANCELLED` and balance.  
    If trying to cancel an already settled transaction, return error `PAM_ERR_TRANS_ALREADY_SETTLED` and balance.  
    If trying to cancel something else, return error `PAM_ERR_CANCEL_NON_WITHDRAW` and balance.


<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Path Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"path","required":true,"name":"playerId","description":"id of player","example":"73619e57b3bc4b4e9014132be3bd12a9","schema":{"type":"string"}}}></ParamsItem></ul></div></details><details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Query Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"query","name":"provider","required":true,"description":"Name of the game provider associated with the session","example":"Evolution","schema":{"type":"string"}}}></ParamsItem></ul></div></details><details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Header Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"X-Player-Token","description":"Player game session identifier","in":"header","required":true,"schema":{"name":"sessionToken","description":"Player game session identifier","type":"string","example":"7ca10daf12f2cac9fecf559b11f0f0c8bd21ae43","minLength":32,"maxLength":40}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"X-Correlation-ID","description":"Header for correlating requests between the services for debugging purposes and request tracing. The value will originate from the game providers that support request identification. Otherwise Valkyrie will generate a value.\n","in":"header","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details><MimeTabs><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"currency"} required={true} schemaDescription={"ISO 4217 three letter currency code"} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `^[A-Z]{3}$`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"provider"} required={true} schemaDescription={"Game provider identity known by the PAM and Valkyrie"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"transactionType"} required={true} schemaDescription={"Transaction types according to:\n* `DEPOSIT` - for adding funds\n* `WITHDRAW` - subtract funds from an account balance. Generally for placing bets\n* `CANCEL` - reverting a previous transaction\n* `PROMODEPOSIT` - payout from promo and similar offerings programs\n* `PROMOWITHDRAW` - buyin to promo and similar offerings programs\n* `PROMOCANCEL` - reverting a previous promo transaction\n"} schemaName={"string"} qualifierMessage={"**Possible values:** [`DEPOSIT`, `WITHDRAW`, `CANCEL`, `PROMODEPOSIT`, `PROMOWITHDRAW`, `PROMOCANCEL`]"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"cashAmount"} required={true} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"bonusAmount"} required={true} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoAmount"} required={true} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"transactionDateTime"} required={true} schemaDescription={"A date and time in IS0 8601 format"} schemaName={"date-time"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"providerTransactionId"} required={true} schemaDescription={"The RGS transaction identifier. Unique for each provider. Either this or `providerBetRef` is required. `providerBetRef` will be prioritized if both are present."} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"providerBetRef"} required={false} schemaDescription={"Provider bet reference for grouping or matching transactions. Either this or `providerTransactionId` is required. This one is prioritized if both are present."} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"providerGameId"} required={false} schemaDescription={"The game identifier unique for the RGS(provider)"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"providerRoundId"} required={false} schemaDescription={"The unique game round identifier for the provider"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"isGameOver"} required={false} schemaDescription={undefined} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>promos</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"promoType"} required={false} schemaDescription={"Promo types according to:\n* `PROMOBONUS` - bonus promotion\n* `PROMOTOURNAMENT` - tournament related promotion\n* `PROMOFROMGAME` - promotion awarded from a game\n* `PROMOCAP` - no f... idea\n* `PROMOLIMIT` - same here...\n* `PROMOMONEYREWARD` - promotion that actually means real dough\n* `FREEROUNDS` - extra game rounds for free\n* `FREESPINS` - extra spins for free\n"} schemaName={"string"} qualifierMessage={"**Possible values:** [`PROMOBONUS`, `PROMOTOURNAMENT`, `PROMOFROMGAME`, `PROMOCAP`, `PROMOLIMIT`, `PROMOMONEYREWARD`, `FREEROUNDS`, `FREESPINS`]"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoName"} required={false} schemaDescription={"Name of offering, if any"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoStatus"} required={false} schemaDescription={"Offering status, if any"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoReference"} required={false} schemaDescription={"Reference to the offering, if any"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoCode"} required={false} schemaDescription={"Offering code, if any"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoAmount"} required={false} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoAmountTotal"} required={false} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoConfigRef"} required={false} schemaDescription={"Offering configuration reference, if any"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoAwardRef"} required={false} schemaDescription={"Offering award reference, if any"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"currency"} required={false} schemaDescription={"ISO 4217 three letter currency code"} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `^[A-Z]{3}$`"} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>jackpots</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"jackpotId"} required={false} schemaDescription={"Jackpot identifier"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"jackpotReference"} required={false} schemaDescription={"Jackpot reference, arbitrary use"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"jackpotAmount"} required={false} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>jackpotBuckets</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"bucketType"} required={false} schemaDescription={"Type of jackpot bucket, if any. Arbitrary use"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"bucketReference"} required={false} schemaDescription={"Jackpot bucket reference, arbitrary use"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"bucketAmount"} required={false} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"currency"} required={false} schemaDescription={"ISO 4217 three letter currency code"} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `^[A-Z]{3}$`"} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>tip</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"tipAmount"} required={false} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

The transaction response.

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"status"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={"**Possible values:** [`OK`, `ERROR`]"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>error</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Error details describing why PAM rejected the request

</div><SchemaItem collapsible={false} name={"code"} required={false} schemaDescription={"- `PAM_ERR_UNDEFINED` - When you need a generic error.\n- `PAM_ERR_ACC_NOT_FOUND` - When account of `playerId` is not found.\n- `PAM_ERR_GAME_NOT_FOUND` - When specified `providerGameId` is not found.\n- `PAM_ERR_ROUND_NOT_FOUND` - In getGameRound, when there is no game round with id `providerGameRoundId`.\n- `PAM_ERR_TRANS_NOT_FOUND` - In DEPOSIT transaction if the game round with id `providerRoundId` is not found.\n- `PAM_ERR_CASH_OVERDRAFT` - When user does not have enough funds on their account for a withdraw transactions.\n- `PAM_ERR_BONUS_OVERDRAFT` - When user does not have enough funds on their bonus account for a withdraw transaction.\n- `PAM_ERR_SESSION_NOT_FOUND` - When no session is found for provided `X-Player-Token`.\n- `PAM_ERR_SESSION_EXPIRED` - When session related to `X-Player-Token` has expired.\n- `PAM_ERR_MISSING_PROVIDER` - When specified query parameter `provider` is not found.\n- `PAM_ERR_TRANS_CURRENCY` - When specified `Currency` does not match that of the session.\n- `PAM_ERR_NEGATIVE_STAKE` - When transaction amount is negative.\n- `PAM_ERR_CANCEL_NOT_FOUND` - When the transaction trying to cancel doesn't exist.\n- `PAM_ERR_TRANS_ALREADY_CANCELLED` - When trying to cancel an already cancelled transaction, or when a Deposit is made toward a cancelled withdraw.\n- `PAM_ERR_CANCEL_NON_WITHDRAW` - When trying to cancel a transaction that is not a Withdraw transaction.\n- `PAM_ERR_BET_NOT_ALLOWED` - When a bet cannot be done, eg when the user is blocked.\n- `PAM_ERR_PLAYER_NOT_FOUND` - When `playerId` is not found.\n- `PAM_ERR_API_TOKEN` - When `Authorization` header api token does not match the PAM api token.\n- `PAM_ERR_TRANS_ALREADY_SETTLED` - When trying to cancel an already Deposited bet or when trying to Deposit on an already finished gameRound, finished bet.\n- `PAM_ERR_DUPLICATE_TRANS` - When a Deposit is made with an already existing `providerTransactionId` but with different `playerId`/`providerGameId`/`providerRoundId`.\n- `PAM_ERR_PROMO_OVERDRAFT` - When user does not have enough funds on their promo account for a withdraw transaction.\n"} schemaName={"string"} qualifierMessage={"**Possible values:** [`PAM_ERR_UNDEFINED`, `PAM_ERR_ACC_NOT_FOUND`, `PAM_ERR_GAME_NOT_FOUND`, `PAM_ERR_ROUND_NOT_FOUND`, `PAM_ERR_TRANS_NOT_FOUND`, `PAM_ERR_CASH_OVERDRAFT`, `PAM_ERR_BONUS_OVERDRAFT`, `PAM_ERR_SESSION_NOT_FOUND`, `PAM_ERR_SESSION_EXPIRED`, `PAM_ERR_MISSING_PROVIDER`, `PAM_ERR_TRANS_CURRENCY`, `PAM_ERR_NEGATIVE_STAKE`, `PAM_ERR_CANCEL_NOT_FOUND`, `PAM_ERR_TRANS_ALREADY_CANCELLED`, `PAM_ERR_CANCEL_NON_WITHDRAW`, `PAM_ERR_BET_NOT_ALLOWED`, `PAM_ERR_PLAYER_NOT_FOUND`, `PAM_ERR_API_TOKEN`, `PAM_ERR_TRANS_ALREADY_SETTLED`, `PAM_ERR_DUPLICATE_TRANS`, `PAM_ERR_PROMO_OVERDRAFT`]"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>transactionResult</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"transactionId"} required={false} schemaDescription={"Unique transaction identifier from the PAM system"} schemaName={"string"} qualifierMessage={"**Possible values:** `non-empty` and `<= 40 characters`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>balance</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

player account balance

</div><SchemaItem collapsible={false} name={"cashAmount"} required={false} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"bonusAmount"} required={false} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"promoAmount"} required={false} schemaDescription={"Amount in some currency, rounded to 6 decimal places"} schemaName={"double"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"status\": \"OK\",\n  \"error\": {\n    \"code\": \"PAM_ERR_UNDEFINED\",\n    \"message\": \"string\"\n  },\n  \"transactionResult\": {\n    \"transactionId\": \"05a9edc0f73c297b\",\n    \"balance\": {\n      \"cashAmount\": 1236.123456,\n      \"bonusAmount\": 1236.123456,\n      \"promoAmount\": 1236.123456\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>

Invalid request body

</div><div></div></TabItem><TabItem label={"401"} value={"401"}><div>

Invalid session or api key

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"status"} required={false} schemaDescription={"Status is Error"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>error</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Error details describing why PAM rejected the request

</div><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"code"} required={false} schemaDescription={"Pam Error code \"PAM_ERR_SESSION_NOT_FOUND\" or \"PAM_ERR_UNDEFINED\""} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"status\": \"Error\",\n  \"error\": {\n    \"message\": \"string\",\n    \"code\": \"PAM_ERR_SESSION_NOT_FOUND\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      